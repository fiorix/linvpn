.TH "LINVPN.CONF" "5" "linvpn 3.0" "Alexandre Fiori" ""
.SH "NAME"
linvpn.conf \- The configuration file for linvpn client and server
.SH "SYNOPSIS"
The \fIlinvpn.conf\fR file is a configuration file for both linvpn(8) and linvpnd(8). This file contains runtime configuration information for both client and server and is designed to be configured by network administrators.
.SH "SYNTAX"
The file syntax consists of vpn entries describing local and remote address, crypto algorithm, keys, ppp addresses and commands to run when a connection is started and when it stops.

Comments are defined by the \fI#\fR character and can be placed anywhere in the file.

A common entry for a vpn looks like this:

vpn \fItest\fR algo \fIblowfish\fR
.br 
  src              key \fI0x238a04befd25952ac4fe33b2a1db3c21\fR
.br 
  dst \fImyserver.com\fR key \fI0x87d2219b1e64507e209d55c58affce7a\fR
.br 
  ppp local \fI10.0.0.1\fR remote \fI10.0.0.2\fR
.br 
  up "\fImyupcmd\fR"       # used when link goes up
.br 
  down "\fImydowncmd\fR";  # used when link goes down

Since the entry is defined by the \fIvpn name\fR keyword, other parameters can be placed in any order.

.TP 
\fBvpn\fR \fIname\fR \fBOPTIONS\fR;
Defines a new entry \fIname\fR. Names are words composed by alphacharacters and '\-' beggining only with a letter, never a number or '\-'.

Duplicated entries are not allowed and \fBOPTIONS\fR are the following:

.TP 
\fBalgo\fR \fIname\fR
\fIname\fR can be only \fI3des\fR or \fIblowfish\fR. If ommited, \fI3des\fR will be used.

.TP 
\fBsrc\fR \fIipaddr\fR \fBkey\fR \fIhexkey\fR
Defines source \fIipaddr\fR and crypto \fIhexkey\fR according to the specified algorithm. \fIipaddr\fR is currently ignored. The \fIhexkey\fR must be an hexadecimal number with 128 bits for blowfish and 192 bits for 3des, always beggining with \fI0x\fR.

These keys can be generated by using dd, like this:
.br 
  $ dd if=/dev/random count=16 bs=1 | xxd \-ps
.br 
  16+0 records in
.br 
  16+0 records out
.br 
  16 bytes transferred in 0.000140 seconds (114264 bytes/sec)
.br 
  7165bb1f00f8d37f4df9edb92915f628

Then \fI0x7165bb1f00f8d37f4df9edb92915f628\fR is a valid key for the blowfish algorithm. For 3des \fIcount\fR must be set to 24.

Key specified in \fBsrc\fR will be used on the client side to encrypt packets, while on the server side it will be used to decrypt.

.TP 
\fBdst\fR \fIipaddr\fR \fBkey\fR \fIhexkey\fR
On the server side \fIipaddr\fR is ignored but on the client side \fIipaddr\fR must be the IP address or hostname of the server.
.br 
Again, \fIhexkey\fR must be an hexadecimal number according to the specified algorithm.

Key specified in \fBdst\fR will be used on the server side to encrypt packets, while on the client side it will be used to decrypt.

.TP 
\fBppp\fR \fBlocal\fR \fIipaddr\fR \fBremote\fR \fIipaddr\fR
.TP 
\fBppp\fR \fBremote\fR \fIipaddr\fR \fBlocal\fR \fIipaddr\fR
Defines local and remote IP addresses that will be used by pppd(8). This option is the only one that MUST be different on the client and server configuration since it will specify a local and remote address.
.br 
Basically, the configuration file can be the same for client and server by only changing \fBlocal\fR and \fBremote\fR keywords.

.TP 
\fBup\fR \fI"command"\fR
When ppp link goes up, client and server can run a \fIcommand\fR. This command must be in double quotes and will receive the ppp interface name as its last argument.
.br 
This option can be omitted.

.TP 
\fBdown\fR \fI"command"\fR
When ppp link goes down, client and server can run a \fIcommand\fR. This command must be in double quotes and receives no extra arguments.

.SH "SEE ALSO"
linvpn(8), linvpnd(8), pppd(8)
